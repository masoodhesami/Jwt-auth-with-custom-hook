[{"E:\\react\\quera\\jwt-auth\\src\\index.js":"1","E:\\react\\quera\\jwt-auth\\src\\App.js":"2","E:\\react\\quera\\jwt-auth\\src\\Pages\\Profile.jsx":"3","E:\\react\\quera\\jwt-auth\\src\\Pages\\Login.jsx":"4","E:\\react\\quera\\jwt-auth\\src\\Components\\Card.jsx":"5","E:\\react\\quera\\jwt-auth\\src\\Components\\Row.jsx":"6","E:\\react\\quera\\jwt-auth\\src\\Components\\UserData.jsx":"7","E:\\react\\quera\\jwt-auth\\src\\Components\\Input.jsx":"8","E:\\react\\quera\\jwt-auth\\src\\Components\\NotRobot.jsx":"9","E:\\react\\quera\\jwt-auth\\src\\Components\\ErrorMessage.jsx":"10","E:\\react\\quera\\jwt-auth\\src\\Components\\LoginButtons.jsx":"11","E:\\react\\quera\\jwt-auth\\src\\Components\\LogoutButton.jsx":"12","E:\\react\\quera\\jwt-auth\\src\\Hooks\\useJWT.js":"13"},{"size":193,"mtime":1645119820000,"results":"14","hashOfConfig":"15"},{"size":370,"mtime":1645119820000,"results":"16","hashOfConfig":"15"},{"size":1715,"mtime":1646166569360,"results":"17","hashOfConfig":"15"},{"size":3232,"mtime":1646211064021,"results":"18","hashOfConfig":"15"},{"size":158,"mtime":1645119820000,"results":"19","hashOfConfig":"15"},{"size":94,"mtime":1645119820000,"results":"20","hashOfConfig":"15"},{"size":172,"mtime":1645119820000,"results":"21","hashOfConfig":"15"},{"size":424,"mtime":1645119820000,"results":"22","hashOfConfig":"15"},{"size":277,"mtime":1645119820000,"results":"23","hashOfConfig":"15"},{"size":177,"mtime":1645119820000,"results":"24","hashOfConfig":"15"},{"size":221,"mtime":1645119820000,"results":"25","hashOfConfig":"15"},{"size":205,"mtime":1645119820000,"results":"26","hashOfConfig":"15"},{"size":1612,"mtime":1646161861915,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"l3kzvw",{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},"E:\\react\\quera\\jwt-auth\\src\\index.js",[],["57","58"],"E:\\react\\quera\\jwt-auth\\src\\App.js",[],"E:\\react\\quera\\jwt-auth\\src\\Pages\\Profile.jsx",["59","60"],"import React, {useEffect} from \"react\";\nimport {useNavigate} from \"react-router-dom\"\n\nimport Row from \"../Components/Row\";\nimport UserData from \"../Components/UserData\";\nimport LogoutButton from \"../Components/LogoutButton\";\nimport useJwt from \"../Hooks/useJWT\"\n\nconst Profile = () => {\n    const navigate = useNavigate();\n    const [user, setUser] = React.useState({});\n    const {logout, sendPostRequest, refreshToken} = useJwt()\n    const userHandler = async () => {\n        if (localStorage.getItem(\"access\")) {\n            const refreshData = await refreshToken()\n            console.log(refreshData);\n            const data = await sendPostRequest(\"http://127.0.0.1:4000/api/user\", refreshData);\n            setUser(data.data.user);\n            console.log(data)\n        } else {\n            navigate(\"/login\");\n        }\n    }\n    const logOutHandler = async () => {\n        const result = await logout();\n        navigate(\"/login\")\n    }\n    useEffect(() => {\n        const finalData = userHandler();\n        console.log(finalData);\n    }, []);\n\n    return (\n        <div className=\"container\">\n            <Row>\n                <UserData label=\"Name\">{user.name}</UserData>\n                <UserData label=\"Family\">{user.lastname}</UserData>\n            </Row>\n\n            <Row>\n                <UserData label=\"Phone\">{user.phone}</UserData>\n                <UserData label=\"Address\">{user.address}</UserData>\n            </Row>\n\n            <Row>\n                <UserData label=\"Email\">{user.email}</UserData>\n                <UserData label=\"Password\">{user.password}</UserData>\n            </Row>\n\n            <LogoutButton onClick={logOutHandler}/>\n        </div>\n    );\n};\n\nexport default Profile;\n","E:\\react\\quera\\jwt-auth\\src\\Pages\\Login.jsx",["61","62","63"],"E:\\react\\quera\\jwt-auth\\src\\Components\\Card.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\Row.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\UserData.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\Input.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\NotRobot.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\ErrorMessage.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\LoginButtons.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Components\\LogoutButton.jsx",[],"E:\\react\\quera\\jwt-auth\\src\\Hooks\\useJWT.js",["64"],"import React from \"react\";\nimport axios from 'axios'\n\n\nfunction useJWT() {\n    const refreshToken = async () => {\n        const result = await axios.post(\"http://127.0.0.1:4000/api/token\", {\n            token: localStorage.getItem(\"refresh\")\n        });\n        localStorage.setItem(\"access\", result.data.access);\n        localStorage.setItem(\"refresh\", result.data.refresh);\n        return result.data;\n    };\n\n    async function login(email, password) {\n        const result = await axios.post(\"http://127.0.0.1:4000/api/login\", {\n            email: email,\n            password: password\n        });\n        localStorage.setItem(\"access\", result.data.access)\n        localStorage.setItem(\"refresh\", result.data.refresh);\n        return result.data;\n\n    }\n\n    const sendPostRequest = async (url, data) => {\n        try {\n            return await axios.post(url, data, {\n                headers: {\n                    \"jwt\": localStorage.getItem(\"access\")\n                }\n            });\n        } catch (err) {\n            const token = await refreshToken();\n            return await axios.post(url, data, {\n                headers: {\n                    \"jwt\": token.access\n                }\n            });\n        }\n    };\n\n    const logout = async () => {\n        await axios.delete(\"http://127.0.0.1:4000/api/logout\", {\n            token: localStorage.getItem(\"refresh\")\n        })\n        localStorage.removeItem(\"access\");\n        localStorage.removeItem(\"refresh\");\n\n    };\n\n    return {\n        login,\n        logout,\n        refreshToken,\n        sendPostRequest,\n    };\n}\n\nexport default useJWT;\n",{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":25,"column":15,"nodeType":"71","messageId":"72","endLine":25,"endColumn":21},{"ruleId":"73","severity":1,"message":"74","line":31,"column":8,"nodeType":"75","endLine":31,"endColumn":10,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":23,"column":37,"nodeType":"79","messageId":"80","endLine":23,"endColumn":38,"suggestions":"81"},{"ruleId":"77","severity":1,"message":"78","line":23,"column":53,"nodeType":"79","messageId":"80","endLine":23,"endColumn":54,"suggestions":"82"},{"ruleId":"73","severity":1,"message":"83","line":42,"column":12,"nodeType":"75","endLine":42,"endColumn":29,"suggestions":"84"},{"ruleId":"69","severity":1,"message":"85","line":1,"column":8,"nodeType":"71","messageId":"72","endLine":1,"endColumn":13},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"no-unused-vars","'result' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userHandler'. Either include it or remove the dependency array.","ArrayExpression",["88"],"no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["89","90"],["91","92"],"React Hook useEffect has missing dependencies: 'email' and 'navigateUser'. Either include them or remove the dependency array.",["93"],"'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"94","fix":"95"},{"messageId":"96","fix":"97","desc":"98"},{"messageId":"99","fix":"100","desc":"101"},{"messageId":"96","fix":"102","desc":"98"},{"messageId":"99","fix":"103","desc":"101"},{"desc":"104","fix":"105"},"Update the dependencies array to be: [userHandler]",{"range":"106","text":"107"},"removeEscape",{"range":"108","text":"109"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"110","text":"111"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"112","text":"109"},{"range":"113","text":"111"},"Update the dependencies array to be: [navigator, data, email, navigateUser]",{"range":"114","text":"115"},[1048,1050],"[userHandler]",[925,926],"",[925,925],"\\",[941,942],[941,941],[1436,1453],"[navigator, data, email, navigateUser]"]